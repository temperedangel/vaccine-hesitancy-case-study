<!-- ============================================= -->
<!-- PART 1: CSS - Paste in Page Settings ‚Üí Inside <head> -->
<!-- ============================================= -->

<style>
  /* ===== GLOBAL BACKGROUND & BASE TYPOGRAPHY ===== */
  body {
    background: radial-gradient(circle at 0% 0%, #0f172a 0, #020617 55%, #000 100%);
    color: #e5e7eb;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", sans-serif;
    line-height: 1.6;
  }

  /* ===== FIXED BLOB BACKGROUND LAYER ===== */
  .background-blobs {
    position: fixed;
    inset: 0;
    overflow: hidden;
    z-index: -1;
    pointer-events: none;
    background: radial-gradient(circle at 10% 0%, #0b1120 0, #020617 60%, #000 100%);
  }

  /* ===== INDIVIDUAL BLOB STYLING ===== */
  .blob {
    position: absolute;
    width: 420px;
    height: 420px;
    border-radius: 50%;
    filter: blur(40px);
    opacity: 0.85;
    mix-blend-mode: screen;
    will-change: transform;
    background: radial-gradient(circle at 30% 30%, rgba(56,189,248,0.9), rgba(15,23,42,0.15));
    animation: drift-blob 42s ease-in-out infinite alternate;
  }

  /* ===== BLOB POSITIONING & VARIATION ===== */
  .blob:nth-child(1) {
    top: -10%;
    left: -5%;
    background: radial-gradient(circle at 30% 30%, rgba(56,189,248,0.9), rgba(15,23,42,0.15));
    animation-duration: 42s;
  }
  
  .blob:nth-child(2) {
    top: 15%;
    right: -20%;
    background: radial-gradient(circle at 30% 30%, rgba(94,234,212,0.85), rgba(15,23,42,0.15));
    animation-duration: 36s;
    animation-delay: -8s;
  }
  
  .blob:nth-child(3) {
    bottom: -25%;
    left: 10%;
    background: radial-gradient(circle at 30% 30%, rgba(129,140,248,0.85), rgba(15,23,42,0.15));
    animation-duration: 50s;
    animation-delay: -16s;
  }
  
  .blob:nth-child(4) {
    top: 40%;
    right: 20%;
    width: 320px;
    height: 320px;
    filter: blur(32px);
    opacity: 0.8;
    background: radial-gradient(circle at 30% 30%, rgba(248,250,252,0.35), rgba(15,23,42,0.05));
    animation-duration: 44s;
    animation-delay: -24s;
  }
  
  .blob:nth-child(5) {
    bottom: 10%;
    right: -5%;
    width: 380px;
    height: 380px;
    background: radial-gradient(circle at 30% 30%, rgba(56,189,248,0.75), rgba(15,23,42,0.3));
    animation-duration: 52s;
    animation-delay: -32s;
  }

  /* ===== BLOB DRIFT ANIMATION ===== */
  @keyframes drift-blob {
    0%   { transform: translate3d(0, 0, 0) scale(1); }
    25%  { transform: translate3d(60px, -40px, 0) scale(1.06); }
    50%  { transform: translate3d(-40px, 40px, 0) scale(1.03); }
    75%  { transform: translate3d(80px, 80px, 0) scale(1.08); }
    100% { transform: translate3d(-40px, 20px, 0) scale(1.02); }
  }

  /* ===== ACCESSIBILITY: REDUCED MOTION ===== */
  @media (prefers-reduced-motion: reduce) {
    .blob {
      animation: none !important;
      transform: none !important;
    }
  }

  /* ===== MOBILE: DISABLE FOR PERFORMANCE ===== */
  @media (max-width: 767px) {
    .background-blobs {
      display: none;
    }
  }

  /* ===== GLASS-MORPHISM CARD EFFECT ===== */
  /* Apply this class in Webflow to content cards */
  .case-card {
    background: rgba(15, 23, 42, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(148, 163, 184, 0.16);
  }

  /* ===== GRADIENT TEXT EFFECT ===== */
  /* Apply this class to accent text in headings */
  .gradient-text {
    background: linear-gradient(90deg, #38bdf8, #5eead4, #8b5cf6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ===== SUBTLE GLOW FOR INTERACTIVE ELEMENTS ===== */
  .pill:hover {
    box-shadow: 0 0 20px rgba(56, 189, 248, 0.4);
    border-color: rgba(56, 189, 248, 0.8);
    transition: all 0.3s ease;
  }

  .figure:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 50px rgba(15, 23, 42, 0.9);
    transition: all 0.3s ease;
  }
</style>

<!-- ============================================= -->
<!-- PART 2: JAVASCRIPT - Paste in Page Settings ‚Üí Before </body> -->
<!-- ============================================= -->

<script>
(function() {
  'use strict';

  // ===== PERFORMANCE & ACCESSIBILITY CHECKS =====
  const prefersReducedMotion = window.matchMedia && 
    window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  const isMobile = window.innerWidth < 768;
  
  // Exit early if motion should be reduced or on mobile
  if (prefersReducedMotion || isMobile) {
    console.log('[Blobs] Disabled: reduced motion or mobile device');
    return;
  }

  // ===== CREATE OR FIND BLOB CONTAINER =====
  let blobRoot = document.querySelector(".background-blobs");
  
  if (!blobRoot) {
    blobRoot = document.createElement("div");
    blobRoot.className = "background-blobs";
    blobRoot.setAttribute("aria-hidden", "true");
    document.body.insertBefore(blobRoot, document.body.firstChild);
    console.log('[Blobs] Container created');
  }

  // ===== CREATE 5 BLOB ELEMENTS =====
  const blobCount = 5;
  for (let i = 0; i < blobCount; i++) {
    const blob = document.createElement("div");
    blob.className = "blob";
    blobRoot.appendChild(blob);
  }
  console.log(`[Blobs] ${blobCount} blobs initialized`);

  // ===== CURSOR-BASED PARALLAX =====
  let mouseX = 0, mouseY = 0;
  let targetX = 0, targetY = 0;

  document.addEventListener("mousemove", function(e) {
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    targetX = (e.clientX - centerX) / centerX; // Normalized -1 to 1
    targetY = (e.clientY - centerY) / centerY;
  });

  // Reset parallax on mouse leave
  document.addEventListener("mouseleave", function() {
    targetX = 0;
    targetY = 0;
  });

  // ===== SMOOTH PARALLAX ANIMATION LOOP =====
  function animateParallax() {
    // Ease towards target position (smooth follow)
    mouseX += (targetX - mouseX) * 0.06;
    mouseY += (targetY - mouseY) * 0.06;

    const blobs = blobRoot.querySelectorAll(".blob");
    blobs.forEach((blob, idx) => {
      const strength = 16 + (idx * 6); // Varying parallax depth per blob
      const x = mouseX * strength;
      const y = mouseY * strength;
      
      // Apply transform (CSS animation handles scale/drift, we add parallax offset)
      blob.style.transform = `translate3d(${x}px, ${y}px, 0)`;
    });

    requestAnimationFrame(animateParallax);
  }

  requestAnimationFrame(animateParallax);

  // ===== SECTION-BASED COLOR TRANSITIONS (OPTIONAL) =====
  // To enable: Add custom attribute data-blob-color="blue" to sections in Webflow
  // Then uncomment the code below
  
  /*
  const colorPalettes = {
    blue:   'radial-gradient(circle at 30% 30%, rgba(56,189,248,0.9), rgba(15,23,42,0.15))',
    teal:   'radial-gradient(circle at 30% 30%, rgba(45,212,191,0.9), rgba(15,23,42,0.15))',
    purple: 'radial-gradient(circle at 30% 30%, rgba(129,140,248,0.9), rgba(15,23,42,0.15))',
    cyan:   'radial-gradient(circle at 30% 30%, rgba(34,211,238,0.9), rgba(15,23,42,0.15))',
    indigo: 'radial-gradient(circle at 30% 30%, rgba(79,70,229,0.9), rgba(15,23,42,0.15))'
  };

  const sections = document.querySelectorAll('[data-blob-color]');
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (!entry.isIntersecting) return;
      
      const colorKey = entry.target.getAttribute('data-blob-color');
      const gradient = colorPalettes[colorKey];
      
      if (gradient) {
        const blobs = blobRoot.querySelectorAll('.blob');
        blobs.forEach((blob, idx) => {
          // Smooth color transition
          blob.style.transition = 'background-image 1.2s ease';
          blob.style.backgroundImage = gradient;
        });
        console.log(`[Blobs] Color changed to: ${colorKey}`);
      }
    });
  }, { 
    threshold: 0.35, // Trigger when 35% of section is visible
    rootMargin: '0px'
  });

  sections.forEach(section => observer.observe(section));
  console.log(`[Blobs] Observing ${sections.length} sections for color changes`);
  */

  // ===== DEBUGGING HELPER =====
  window.blobDebug = function() {
    console.log('[Blobs] Current state:', {
      container: blobRoot,
      blobCount: blobRoot.querySelectorAll('.blob').length,
      mousePosition: { x: targetX, y: targetY },
      reducedMotion: prefersReducedMotion,
      mobile: isMobile
    });
  };

})();
</script>

<!-- ============================================= -->
<!-- WEBFLOW USAGE NOTES -->
<!-- ============================================= -->
<!--

üìã IMPLEMENTATION CHECKLIST:

1Ô∏è‚É£ PASTE CODE
   ‚úÖ Copy PART 1 ‚Üí Webflow Page Settings ‚Üí Custom Code ‚Üí Inside <head>
   ‚úÖ Copy PART 2 ‚Üí Webflow Page Settings ‚Üí Custom Code ‚Üí Before </body>

2Ô∏è‚É£ NO MANUAL DIV NEEDED
   ‚úÖ JavaScript automatically creates .background-blobs container
   ‚úÖ Don't create a background-blobs div in Webflow Designer

3Ô∏è‚É£ APPLY UTILITY CLASSES
   Create these classes in Webflow and apply to elements:
   
   .case-card ‚Üí Content sections for glass-morphism effect
   .gradient-text ‚Üí Accent text in headings (auto-styled by CSS)
   .pill ‚Üí Hero chip/badge (add :hover state in Webflow)
   .figure ‚Üí Plot/image containers (add :hover state in Webflow)

4Ô∏è‚É£ OPTIONAL: SECTION COLOR CHANGES
   To enable blob color transitions per section:
   
   a) Select a section in Webflow
   b) Click Settings (gear icon)
   c) Add custom attribute:
      - Name: data-blob-color
      - Value: blue, teal, purple, cyan, or indigo
   d) Uncomment the IntersectionObserver code in PART 2

5Ô∏è‚É£ TESTING
   ‚ö†Ô∏è Custom code won't run in Designer preview
   ‚úÖ Click "Publish" and test on live/staging URL
   ‚úÖ Open browser console and run: blobDebug()

6Ô∏è‚É£ PERFORMANCE TUNING
   If lag occurs, adjust these values in PART 1 CSS:
   
   - Reduce blur: change blur(40px) ‚Üí blur(30px)
   - Reduce opacity: change 0.85 ‚Üí 0.65
   - Speed up animation: change 42s ‚Üí 30s

7Ô∏è‚É£ ACCESSIBILITY
   ‚úÖ Respects prefers-reduced-motion automatically
   ‚úÖ Disabled on mobile (< 768px) for performance
   ‚úÖ All blobs have aria-hidden="true"

üì± MOBILE FALLBACK:
   Blobs are hidden on mobile - ensure your dark gradient
   background in body {} looks good standalone

üé® COLOR CUSTOMIZATION:
   Edit the rgba() values in .blob:nth-child() rules
   Format: rgba(RED, GREEN, BLUE, OPACITY)
   Example: rgba(56,189,248,0.9) = bright cyan at 90% opacity

-->